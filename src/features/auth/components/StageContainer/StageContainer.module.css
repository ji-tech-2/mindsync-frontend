.stageWrapper {
  position: relative;
  overflow: visible;
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto;
  transition: height var(--transition-fast);
  padding: var(--space-xs) var(--border-lg);
}

.stageWrapper.clipping {
  overflow: hidden;
}

.stage {
  grid-column: 1;
  grid-row: 1;
  display: flex;
  flex-direction: column;
  gap: var(--gutter);
  height: fit-content;
}

.stage.noAnimation {
  animation: none;
}

.stage.entering {
  animation: slide-in-right 0.4s ease-in-out forwards;
}

.stage.exit {
  animation: slide-out-left 0.3s ease-in-out forwards;
  pointer-events: none;
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(100%);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-out-left {
  from {
    opacity: 1;
    transform: translateX(0);
  }

  to {
    opacity: 0;
    transform: translateX(-100%);
  }
}

@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-100%);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.stage.back {
  animation: slide-in-left 0.4s ease-in-out forwards;
}

.stage.backExit {
  animation: slide-out-right 0.3s ease-in-out forwards;
  pointer-events: none;
}

@keyframes slide-out-right {
  from {
    opacity: 1;
    transform: translateX(0);
  }

  to {
    opacity: 0;
    transform: translateX(100%);
  }
}

/* Tablet: 768px - 6 columns */
@media (width >= 768px) {
  .stageWrapper {
    padding: var(--space-sm) var(--border-lg);
  }

  .stage {
    gap: var(--space-lg);
  }
}
